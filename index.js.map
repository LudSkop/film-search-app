{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["\nimport axios from 'axios'\n\n\n const BASE_URL = 'https://api.themoviedb.org/3/'\n const ENDPOINT = 'trending/movie/week';\n const KEY_API = import.meta.env.VITE_TMDB_API_KEY;\n const container = document.querySelector(\".js-movie-list\");\n const loadMore = document.querySelector(\".js-load-more\");\n loadMore.addEventListener(\"click\", onLoadMore);\n\n\n let page = 1;\n\nasync function serviceMovie(page=1) {\n    const response = await axios.get(`${BASE_URL}${ENDPOINT}`, {\n        params: {\n            api_key: KEY_API,\n            page: page\n        }\n    });\n    return response.data;\n}\n\nserviceMovie()\n    .then(data => {\n        console.log(data);\n        container.insertAdjacentHTML(\"beforeend\", createMarkup(data.results));\n        if (data.page < data.total_pages){\n          loadMore.classList.replace(\"load-more-hidden\", \"js-load-more\");  \n        } \n       \n    })\n    .catch(error => {\n        console.log(error);\n    })\n\nfunction createMarkup(arr){\n    const BASE_IMG_URL = \"https://image.tmdb.org/t/p/w500\";\n    return arr.map(({original_title, vote_average, poster_path, release_date })=> `\n    <li class=\"movie-card\">\n        <img src=\"${BASE_IMG_URL}${poster_path}\" alt=\"${original_title}\"/>\n        <div class=\"movie-info\">\n        <h2>${original_title}</h2>\n        <p>Release Date: ${release_date}</p>\n        <p>vote Average: ${vote_average}</p>\n        </div>\n    </li>\n    `).join(\"\");\n}\n\nasync function onLoadMore(event){\n    page++;\n\n    try {\n        console.log(\"кількість кліків: \", page);\n        const data = await serviceMovie(page);\n        console.log(data);\n        container.insertAdjacentHTML(\"beforeend\", createMarkup(data.results));\n        if (data.page >= data.total_pages) {\n            loadMore.classList.replace( \"js-load-more\", \"load-more-hidden\");\n\n\n        }\n\n    } catch(error){\n        alert(error.messag);\n    }\n\n}"],"names":["BASE_URL","ENDPOINT","KEY_API","container","loadMore","onLoadMore","page","serviceMovie","axios","data","createMarkup","error","arr","BASE_IMG_URL","original_title","vote_average","poster_path","release_date","event"],"mappings":"svBAIC,MAAMA,EAAW,gCACXC,EAAW,sBACXC,EAAU,OACVC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAW,SAAS,cAAc,eAAe,EACvDA,EAAS,iBAAiB,QAASC,CAAU,EAG7C,IAAIC,EAAO,EAEZ,eAAeC,EAAaD,EAAK,EAAG,CAOhC,OANiB,MAAME,EAAM,IAAI,GAAGR,CAAQ,GAAGC,CAAQ,GAAI,CACvD,OAAQ,CACJ,QAASC,EACT,KAAMI,CACV,CAAA,CACH,GACe,IACpB,CAEAC,IACK,KAAaE,GAAA,CACV,QAAQ,IAAIA,CAAI,EAChBN,EAAU,mBAAmB,YAAaO,EAAaD,EAAK,OAAO,CAAC,EAChEA,EAAK,KAAOA,EAAK,aACVL,EAAA,UAAU,QAAQ,mBAAoB,cAAc,CAGnE,CAAC,EACA,MAAeO,GAAA,CACZ,QAAQ,IAAIA,CAAK,CACrB,CAAC,EAEL,SAASD,EAAaE,EAAI,CACtB,MAAMC,EAAe,kCACd,OAAAD,EAAI,IAAI,CAAC,CAAC,eAAAE,EAAgB,aAAAC,EAAc,YAAAC,EAAa,aAAAC,KAAkB;AAAA;AAAA,oBAE9DJ,CAAY,GAAGG,CAAW,UAAUF,CAAc;AAAA;AAAA,cAExDA,CAAc;AAAA,2BACDG,CAAY;AAAA,2BACZF,CAAY;AAAA;AAAA;AAAA,KAGlC,EAAE,KAAK,EAAE,CACd,CAEA,eAAeV,EAAWa,EAAM,CAC5BZ,IAEI,GAAA,CACQ,QAAA,IAAI,qBAAsBA,CAAI,EAChC,MAAAG,EAAO,MAAMF,EAAaD,CAAI,EACpC,QAAQ,IAAIG,CAAI,EAChBN,EAAU,mBAAmB,YAAaO,EAAaD,EAAK,OAAO,CAAC,EAChEA,EAAK,MAAQA,EAAK,aACTL,EAAA,UAAU,QAAS,eAAgB,kBAAkB,QAK9DO,EAAM,CACV,MAAMA,EAAM,MAAM,CACtB,CAEJ"}