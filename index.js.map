{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["\nimport axios from 'axios'\n\n\n const BASE_URL = 'https://api.themoviedb.org/3/'\n const ENDPOINT = 'trending/movie/week';\n //const KEY_API = import.meta.env.VITE_TMDB_API_KEY;\nconst KEY_API = \"db3bf6017741aebd99ceac23878d0092\";\n const container = document.querySelector(\".js-movie-list\");\n const loadMore = document.querySelector(\".js-load-more\");\n loadMore.addEventListener(\"click\", onLoadMore);\n\n\n let page = 1;\n\n\nasync function serviceMovie(page=1) {\n    const response = await axios.get(`${BASE_URL}${ENDPOINT}`, {\n        params: {\n            api_key: KEY_API,\n            page: page\n        }\n    });\n    return response.data;\n}\n\nserviceMovie()\n    .then(data => {\n        console.log(data);\n        container.insertAdjacentHTML(\"beforeend\", createMarkup(data.results));\n        if (data.page < data.total_pages){\n          loadMore.classList.replace(\"load-more-hidden\", \"js-load-more\");  \n        } \n       \n    })\n    .catch(error => {\n        console.log(error);\n    })\n\nfunction createMarkup(arr){\n    const BASE_IMG_URL = \"https://image.tmdb.org/t/p/w500\";\n    return arr.map(({original_title, vote_average, poster_path, release_date })=> `\n    <li class=\"movie-card\">\n        <img src=\"${BASE_IMG_URL}${poster_path}\" alt=\"${original_title}\"/>\n        <div class=\"movie-info\">\n       \n        <h2> üé¨ ${original_title}</h2>\n        <h3>üìÖ Release Date: ${release_date}</h3>\n        <h3>‚≠ê Rating: ${vote_average}</h3>\n        </div>\n    </li>\n    `).join(\"\");\n}\n\nasync function onLoadMore(event){\n    page++;\n     loadMore.disabled = true;\n\n    try {\n        console.log(\"–∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–ª—ñ–∫—ñ–≤: \", page);\n        const data = await serviceMovie(page);\n        console.log(data);\n        container.insertAdjacentHTML(\"beforeend\", createMarkup(data.results));\n          const card = document.querySelector(\".movie-card\");\n            const cardHeight = card. getBoundingClientRect().height;\n            console.log(\"–≤–∏—Å–æ—Ç–∞ –∫–∞—Ä—Ç–∫–∏:\", cardHeight);\n            window.scrollBy({\n                left: 0,\n                top: cardHeight * 5,\n                behavior: \"smooth\",\n            })\n        if (data.page >= data.total_pages) {\n            loadMore.classList.replace( \"js-load-more\", \"load-more-hidden\");\n          \n        }\n\n    } catch(error){\n        alert(error.message);\n    } finally {\n        loadMore.disabled = false;\n    }\n\n}\n"],"names":["BASE_URL","ENDPOINT","KEY_API","container","loadMore","onLoadMore","page","serviceMovie","axios","data","createMarkup","error","arr","BASE_IMG_URL","original_title","vote_average","poster_path","release_date","event","cardHeight"],"mappings":"svBAIC,MAAMA,EAAW,gCACXC,EAAW,sBAEZC,EAAU,mCACTC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAW,SAAS,cAAc,eAAe,EACvDA,EAAS,iBAAiB,QAASC,CAAU,EAG7C,IAAIC,EAAO,EAGZ,eAAeC,EAAaD,EAAK,EAAG,CAOhC,OANiB,MAAME,EAAM,IAAI,GAAGR,CAAQ,GAAGC,CAAQ,GAAI,CACvD,OAAQ,CACJ,QAASC,EACT,KAAMI,CACV,CAAA,CACH,GACe,IACpB,CAEAC,IACK,KAAaE,GAAA,CACV,QAAQ,IAAIA,CAAI,EAChBN,EAAU,mBAAmB,YAAaO,EAAaD,EAAK,OAAO,CAAC,EAChEA,EAAK,KAAOA,EAAK,aACVL,EAAA,UAAU,QAAQ,mBAAoB,cAAc,CAGnE,CAAC,EACA,MAAeO,GAAA,CACZ,QAAQ,IAAIA,CAAK,CACrB,CAAC,EAEL,SAASD,EAAaE,EAAI,CACtB,MAAMC,EAAe,kCACd,OAAAD,EAAI,IAAI,CAAC,CAAC,eAAAE,EAAgB,aAAAC,EAAc,YAAAC,EAAa,aAAAC,KAAkB;AAAA;AAAA,oBAE9DJ,CAAY,GAAGG,CAAW,UAAUF,CAAc;AAAA;AAAA;AAAA,kBAGpDA,CAAc;AAAA,+BACDG,CAAY;AAAA,wBACnBF,CAAY;AAAA;AAAA;AAAA,KAG/B,EAAE,KAAK,EAAE,CACd,CAEA,eAAeV,EAAWa,EAAM,CAC5BZ,IACCF,EAAS,SAAW,GAEjB,GAAA,CACQ,QAAA,IAAI,qBAAsBE,CAAI,EAChC,MAAAG,EAAO,MAAMF,EAAaD,CAAI,EACpC,QAAQ,IAAIG,CAAI,EAChBN,EAAU,mBAAmB,YAAaO,EAAaD,EAAK,OAAO,CAAC,EAE1D,MAAAU,EADK,SAAS,cAAc,aAAa,EACtB,sBAAA,EAAwB,OACzC,QAAA,IAAI,iBAAkBA,CAAU,EACxC,OAAO,SAAS,CACZ,KAAM,EACN,IAAKA,EAAa,EAClB,SAAU,QAAA,CACb,EACDV,EAAK,MAAQA,EAAK,aACTL,EAAA,UAAU,QAAS,eAAgB,kBAAkB,QAI9DO,EAAM,CACV,MAAMA,EAAM,OAAO,CAAA,QACrB,CACEP,EAAS,SAAW,EACxB,CAEJ"}